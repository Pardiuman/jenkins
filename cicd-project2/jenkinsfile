pipeline{
    agent any
    stages{
        stage('quality gates check'){
            agent{
            docker {
                image 'maven:3.9.3-eclipse-temurin-17'
                
            }
        }
            steps{
                script{
                    withSonarQubeEnv(credentialsId: 'sonarqube-secret') {
                        // some block
                        sh 'mvn sonar:sonar'
                    }
                //     withSonarQubeEnv('sonarqube'){
                //     sh 'mvn sonar:sonar'
                // }
                }
                
            }

        }
        // stage(){

        // }
    }
    // post{

    // }
}